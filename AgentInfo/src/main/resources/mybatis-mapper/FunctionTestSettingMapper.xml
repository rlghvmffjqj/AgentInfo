<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="functionTestSetting">
	<resultMap type="com.secuve.agentInfo.vo.FunctionTestSetting" id="functionTestSetting"></resultMap>
	
	<select id="functionTestSettingForm" parameterType="string" resultMap="functionTestSetting">
		SELECT * FROM functionTestSettingForm WHERE functionTestSettingDivision = #{functionTestSettingDivision};
	</select>
	
	<insert id="formPlus" parameterType="functionTestSetting" useGeneratedKeys="true" keyProperty="functionTestSettingFormKeyNum">
		INSERT INTO functionTestSettingForm(functionTestSettingFormName, functionTestSettingDivision, functionTestSettingFormRegistrant, functionTestSettingFormRegistrationDate)
		VALUES('미입력', #{functionTestSettingDivision}, #{functionTestSettingFormRegistrant}, #{functionTestSettingFormRegistrationDate});
	</insert>
	
	<update id="formChange">
		UPDATE functionTestSettingForm SET functionTestSettingFormName = #{functionTestSettingFormName}, functionTestSettingFormModifier = #{functionTestSettingFormModifier}, functionTestSettingFormModifiedDate = #{functionTestSettingFormModifiedDate}
		WHERE functionTestSettingFormKeyNum = #{functionTestSettingFormKeyNum};
	</update>
	
	<delete id="formMinus" parameterType="_int">
		DELETE FROM functionTestSettingForm WHERE functionTestSettingFormKeyNum = #{functionTestSettingFormKeyNum};
	</delete>
	
	<select id="functionTestSettingCategory" resultMap="functionTestSetting">
		SELECT * FROM functionTestSettingCategory;
	</select>
	
	<select id="functionTestSettingSubCategory" resultMap="functionTestSetting">
		SELECT * FROM functionTestSettingSubCategory;
	</select>
	
	<insert id="categoryPlus"  parameterType="functionTestSetting" useGeneratedKeys="true" keyProperty="functionTestSettingCategoryKeyNum">
		INSERT INTO functionTestSettingCategory(functionTestSettingFormKeyNum, functionTestSettingCategoryRegistrant, functionTestSettingCategoryRegistrationDate) 
		VALUES (#{functionTestSettingFormKeyNum}, #{functionTestSettingCategoryRegistrant}, #{functionTestSettingCategoryRegistrationDate});
	</insert>
	
	<insert id="subCategoryPlus" parameterType="functionTestSetting" useGeneratedKeys="true" keyProperty="functionTestSettingSubCategoryKeyNum">
		INSERT INTO functionTestSettingSubCategory(functionTestSettingCategoryKeyNum, functionTestSettingFormKeyNum, functionTestSettingSubCategoryRegistrant, functionTestSettingSubCategoryRegistrationDate) 
		VALUES (#{functionTestSettingCategoryKeyNum}, #{functionTestSettingFormKeyNum}, #{functionTestSettingSubCategoryRegistrant}, #{functionTestSettingSubCategoryRegistrationDate});
	</insert>
	
	<delete id="formCategoryMinus" parameterType="_int">
		DELETE FROM functionTestSettingCategory WHERE functionTestSettingFormKeyNum = #{functionTestSettingFormKeyNum};
	</delete>
	
	<delete id="formSubCategoryMinus" parameterType="_int">
		DELETE FROM functionTestSettingSubCategory WHERE functionTestSettingFormKeyNum = #{functionTestSettingFormKeyNum};
	</delete>
	
	<update id="categorySave">
		UPDATE functionTestSettingCategory SET functionTestSettingCategoryName = #{functionTestSettingCategoryName}, functionTestSettingCategoryModifier = #{functionTestSettingCategoryModifier}, functionTestSettingCategoryModifiedDate = #{functionTestSettingCategoryModifiedDate}
		WHERE functionTestSettingCategoryKeyNum = #{functionTestSettingCategoryKeyNum};
	</update>
	
	<update id="subCategorySave">
		UPDATE functionTestSettingSubCategory SET functionTestSettingSubCategoryName = #{functionTestSettingSubCategoryName}, functionTestSettingSubCategoryModifier = #{functionTestSettingSubCategoryModifier}, functionTestSettingSubCategoryModifiedDate = #{functionTestSettingSubCategoryModifiedDate}
		WHERE functionTestSettingSubCategoryKeyNum = #{functionTestSettingSubCategoryKeyNum};
	</update>
	
	<delete id="categoryMinus" parameterType="_int">
		DELETE FROM functionTestSettingCategory WHERE functionTestSettingCategoryKeyNum = #{functionTestSettingCategoryKeyNum};
	</delete>
	
	<delete id="categorySubCategoryMinus" parameterType="_int">
		DELETE FROM functionTestSettingSubCategory WHERE functionTestSettingCategoryKeyNum = #{functionTestSettingCategoryKeyNum};
	</delete>
	
	<delete id="subCategoryMinus" parameterType="_int">
		DELETE FROM functionTestSettingSubCategory WHERE functionTestSettingSubCategoryKeyNum = #{functionTestSettingSubCategoryKeyNum};
	</delete>
	
	<select id="functionTestSettingDetail" parameterType="_int" resultMap="functionTestSetting">
		SELECT * FROM functionTestSettingDetail WHERE functionTestSettingSubCategoryKeyNum = #{functionTestSettingSubCategoryKeyNum};
	</select>
	
	<insert id="functionTestSettingDetailInsert">
		INSERT INTO functionTestSettingDetail(functionTestSettingFormKeyNum,functionTestSettingCategoryKeyNum,functionTestSettingSubCategoryKeyNum,functionTestSettingDetailMethod,functionTestSettingDetailRegistrant,functionTestSettingDetailRegistrationDate)
		VALUES(#{functionTestSettingFormKeyNum},#{functionTestSettingCategoryKeyNum},#{functionTestSettingSubCategoryKeyNum},#{functionTestSettingDetailMethod},#{functionTestSettingDetailRegistrant},#{functionTestSettingDetailRegistrationDate});
	</insert>
	
	<update id="functionTestSettingDetailUpdate">
		UPDATE functionTestSettingDetail SET functionTestSettingDetailMethod = #{functionTestSettingDetailMethod}, functionTestSettingDetailModifier = #{functionTestSettingDetailModifier}, functionTestSettingDetailModifiedDate = #{functionTestSettingDetailModifiedDate}
		WHERE functionTestSettingDetailKeyNum = #{functionTestSettingDetailKeyNum};
	</update>
	
	<delete id="formDetailMinus" parameterType="_int">
		DELETE FROM functionTestSettingDetail WHERE functionTestSettingFormKeyNum = #{functionTestSettingFormKeyNum};
	</delete>
	
	<delete id="categoryDetailMinus" parameterType="_int">
		DELETE FROM functionTestSettingDetail WHERE functionTestSettingCategoryKeyNum = #{functionTestSettingCategoryKeyNum};
	</delete>
	
	<delete id="subCategoryDetailMinus" parameterType="_int">
		DELETE FROM functionTestSettingDetail WHERE functionTestSettingSubCategoryKeyNum = #{functionTestSettingSubCategoryKeyNum};
	</delete>
	
	
</mapper>